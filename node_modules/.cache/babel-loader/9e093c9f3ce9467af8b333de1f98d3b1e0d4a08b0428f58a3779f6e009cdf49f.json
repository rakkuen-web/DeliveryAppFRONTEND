{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO LEGION 7\\\\delivery-connect\\\\frontend\\\\src\\\\pages\\\\LocationSetup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport LocationSelector from '../components/LocationSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction LocationSetup({\n  user,\n  setUser\n}) {\n  _s();\n  const [homeLocation, setHomeLocation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleLocationSelect = (mode, location) => {\n    setHomeLocation(location);\n  };\n  const saveLocation = async () => {\n    if (!homeLocation) {\n      alert('Please select your location on the map');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.put(`${API_URL}/users/${user._id}`, {\n        homeAddress: homeLocation,\n        location: homeLocation // For drivers, also set as current location\n      });\n      const updatedUser = {\n        ...user,\n        homeAddress: homeLocation\n      };\n      if (user.userType === 'driver') {\n        updatedUser.location = homeLocation;\n      }\n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      navigate('/');\n    } catch (error) {\n      alert('Error saving location');\n    }\n    setLoading(false);\n  };\n  const skipForNow = () => {\n    navigate('/');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"Delivery Connect\",\n          style: {\n            height: '40px',\n            borderRadius: '6px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '20px'\n        },\n        children: \"\\uD83D\\uDCCD Set Your Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: '#666',\n          marginBottom: '30px'\n        },\n        children: user.userType === 'customer' ? 'Set your home address to get better delivery recommendations' : 'Set your location so customers can find you'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LocationSelector, {\n        mode: \"home\",\n        onLocationSelect: handleLocationSelect,\n        pickupLocation: homeLocation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), homeLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#f0f8ff',\n          padding: '15px',\n          borderRadius: '10px',\n          margin: '20px 0',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            color: '#333'\n          },\n          children: [\"\\uD83D\\uDCCD Selected: \", homeLocation.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          marginTop: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: skipForNow,\n          style: {\n            flex: 1,\n            padding: '15px',\n            background: '#f8f9fa',\n            border: '1px solid #e0e0e0',\n            borderRadius: '10px',\n            cursor: 'pointer'\n          },\n          children: \"Skip for now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveLocation,\n          disabled: loading || !homeLocation,\n          style: {\n            flex: 2,\n            padding: '15px',\n            background: loading || !homeLocation ? '#ccc' : '#4CAF50',\n            color: 'white',\n            border: 'none',\n            borderRadius: '10px',\n            cursor: loading || !homeLocation ? 'not-allowed' : 'pointer'\n          },\n          children: loading ? 'Saving...' : 'Save Location'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(LocationSetup, \"c0LkWyAjLt8UYVYs2Qe7XOKG8BQ=\", false, function () {\n  return [useNavigate];\n});\n_c = LocationSetup;\nexport default LocationSetup;\nvar _c;\n$RefreshReg$(_c, \"LocationSetup\");","map":{"version":3,"names":["React","useState","useNavigate","axios","LocationSelector","jsxDEV","_jsxDEV","API_URL","LocationSetup","user","setUser","_s","homeLocation","setHomeLocation","loading","setLoading","navigate","handleLocationSelect","mode","location","saveLocation","alert","response","put","_id","homeAddress","updatedUser","userType","localStorage","setItem","JSON","stringify","error","skipForNow","className","children","style","textAlign","src","alt","height","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","color","onLocationSelect","pickupLocation","background","padding","margin","address","display","gap","marginTop","onClick","flex","border","cursor","disabled","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO LEGION 7/delivery-connect/frontend/src/pages/LocationSetup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport LocationSelector from '../components/LocationSelector';\n\nconst API_URL = 'http://localhost:5000/api';\n\nfunction LocationSetup({ user, setUser }) {\n  const [homeLocation, setHomeLocation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLocationSelect = (mode, location) => {\n    setHomeLocation(location);\n  };\n\n  const saveLocation = async () => {\n    if (!homeLocation) {\n      alert('Please select your location on the map');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.put(`${API_URL}/users/${user._id}`, {\n        homeAddress: homeLocation,\n        location: homeLocation // For drivers, also set as current location\n      });\n      \n      const updatedUser = { ...user, homeAddress: homeLocation };\n      if (user.userType === 'driver') {\n        updatedUser.location = homeLocation;\n      }\n      \n      setUser(updatedUser);\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      \n      navigate('/');\n    } catch (error) {\n      alert('Error saving location');\n    }\n    setLoading(false);\n  };\n\n  const skipForNow = () => {\n    navigate('/');\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"app-header\">\n        <div style={{ textAlign: 'center' }}>\n          <img \n            src=\"/logo.png\" \n            alt=\"Delivery Connect\" \n            style={{ height: '40px', borderRadius: '6px' }}\n          />\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>\n          📍 Set Your Location\n        </h2>\n        <p style={{ textAlign: 'center', color: '#666', marginBottom: '30px' }}>\n          {user.userType === 'customer' \n            ? 'Set your home address to get better delivery recommendations'\n            : 'Set your location so customers can find you'\n          }\n        </p>\n\n        <LocationSelector\n          mode=\"home\"\n          onLocationSelect={handleLocationSelect}\n          pickupLocation={homeLocation}\n        />\n\n        {homeLocation && (\n          <div style={{ \n            background: '#f0f8ff', \n            padding: '15px', \n            borderRadius: '10px', \n            margin: '20px 0',\n            textAlign: 'center'\n          }}>\n            <p style={{ margin: 0, color: '#333' }}>\n              📍 Selected: {homeLocation.address}\n            </p>\n          </div>\n        )}\n\n        <div style={{ display: 'flex', gap: '10px', marginTop: '30px' }}>\n          <button\n            onClick={skipForNow}\n            style={{\n              flex: 1,\n              padding: '15px',\n              background: '#f8f9fa',\n              border: '1px solid #e0e0e0',\n              borderRadius: '10px',\n              cursor: 'pointer'\n            }}\n          >\n            Skip for now\n          </button>\n          <button\n            onClick={saveLocation}\n            disabled={loading || !homeLocation}\n            style={{\n              flex: 2,\n              padding: '15px',\n              background: loading || !homeLocation ? '#ccc' : '#4CAF50',\n              color: 'white',\n              border: 'none',\n              borderRadius: '10px',\n              cursor: loading || !homeLocation ? 'not-allowed' : 'pointer'\n            }}\n          >\n            {loading ? 'Saving...' : 'Save Location'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LocationSetup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}