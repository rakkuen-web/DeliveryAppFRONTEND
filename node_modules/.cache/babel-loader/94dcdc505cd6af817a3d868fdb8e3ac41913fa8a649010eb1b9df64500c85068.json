{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO LEGION 7\\\\delivery-connect\\\\frontend\\\\src\\\\components\\\\LocationSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationSelector = ({\n  onLocationSelect,\n  pickupLocation,\n  deliveryLocation,\n  mode = 'pickup'\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [marker, setMarker] = useState(null);\n  useEffect(() => {\n    initMap();\n  }, []);\n  useEffect(() => {\n    if (map && (pickupLocation || deliveryLocation)) {\n      updateMarker(pickupLocation || deliveryLocation);\n    }\n  }, [map, pickupLocation, deliveryLocation]);\n  const initMap = () => {\n    if (!mapRef.current || !window.L || map) return;\n    const leafletMap = window.L.map(mapRef.current, {\n      zoomControl: false,\n      attributionControl: false\n    }).setView([31.6295, -7.9811], 13);\n    window.L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n      attribution: '¬© OpenStreetMap contributors ¬© CARTO',\n      subdomains: 'abcd',\n      maxZoom: 19\n    }).addTo(leafletMap);\n    leafletMap.on('click', e => {\n      const {\n        lat,\n        lng\n      } = e.latlng;\n      onLocationSelect(mode, {\n        latitude: lat,\n        longitude: lng,\n        address: `${lat.toFixed(4)}, ${lng.toFixed(4)}`\n      });\n    });\n    setMap(leafletMap);\n  };\n  const updateMarker = location => {\n    if (!map || !(location !== null && location !== void 0 && location.latitude)) return;\n    if (marker) {\n      map.removeLayer(marker);\n    }\n    const icon = mode === 'home' ? 'üè†' : 'üìç';\n    const newMarker = window.L.marker([location.latitude, location.longitude], {\n      icon: window.L.divIcon({\n        html: `<div style=\"font-size: 24px; text-align: center;\">${icon}</div>`,\n        className: 'custom-marker',\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      })\n    }).addTo(map);\n    setMarker(newMarker);\n    map.setView([location.latitude, location.longitude], 15);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [mode === 'home' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#4CAF50',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83C\\uDFE0 Set Home Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), mode === 'delivery' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#333',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83D\\uDCCD Set Delivery Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        width: '100%',\n        height: '250px',\n        borderRadius: '15px',\n        border: '2px solid #e0e0e0'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '12px',\n        color: '#666',\n        margin: '5px 0'\n      },\n      children: [\"Click anywhere on the map to set \", mode, \" location\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationSelector, \"ij9EvDz+tZLJp9F85qIYh/ZEiE0=\");\n_c = LocationSelector;\nexport default LocationSelector;\nvar _c;\n$RefreshReg$(_c, \"LocationSelector\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","LocationSelector","onLocationSelect","pickupLocation","deliveryLocation","mode","_s","mapRef","map","setMap","marker","setMarker","initMap","updateMarker","current","window","L","leafletMap","zoomControl","attributionControl","setView","tileLayer","attribution","subdomains","maxZoom","addTo","on","e","lat","lng","latlng","latitude","longitude","address","toFixed","location","removeLayer","icon","newMarker","divIcon","html","className","iconSize","iconAnchor","children","style","marginBottom","textAlign","color","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","ref","width","height","borderRadius","border","fontSize","margin","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO LEGION 7/delivery-connect/frontend/src/components/LocationSelector.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst LocationSelector = ({ onLocationSelect, pickupLocation, deliveryLocation, mode = 'pickup' }) => {\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [marker, setMarker] = useState(null);\n\n  useEffect(() => {\n    initMap();\n  }, []);\n\n  useEffect(() => {\n    if (map && (pickupLocation || deliveryLocation)) {\n      updateMarker(pickupLocation || deliveryLocation);\n    }\n  }, [map, pickupLocation, deliveryLocation]);\n\n  const initMap = () => {\n    if (!mapRef.current || !window.L || map) return;\n    \n    const leafletMap = window.L.map(mapRef.current, {\n      zoomControl: false,\n      attributionControl: false\n    }).setView([31.6295, -7.9811], 13);\n    \n    window.L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n      attribution: '¬© OpenStreetMap contributors ¬© CARTO',\n      subdomains: 'abcd',\n      maxZoom: 19\n    }).addTo(leafletMap);\n    \n    leafletMap.on('click', (e) => {\n      const { lat, lng } = e.latlng;\n      onLocationSelect(mode, {\n        latitude: lat,\n        longitude: lng,\n        address: `${lat.toFixed(4)}, ${lng.toFixed(4)}`\n      });\n    });\n    \n    setMap(leafletMap);\n  };\n\n  const updateMarker = (location) => {\n    if (!map || !location?.latitude) return;\n    \n    if (marker) {\n      map.removeLayer(marker);\n    }\n    \n    const icon = mode === 'home' ? 'üè†' : 'üìç';\n    const newMarker = window.L.marker([location.latitude, location.longitude], {\n      icon: window.L.divIcon({\n        html: `<div style=\"font-size: 24px; text-align: center;\">${icon}</div>`,\n        className: 'custom-marker',\n        iconSize: [30, 30],\n        iconAnchor: [15, 15]\n      })\n    }).addTo(map);\n    \n    setMarker(newMarker);\n    map.setView([location.latitude, location.longitude], 15);\n  };\n\n  return (\n    <div>\n      {mode === 'home' && (\n        <div style={{ marginBottom: '10px', textAlign: 'center' }}>\n          <span style={{ color: '#4CAF50', fontWeight: 'bold' }}>üè† Set Home Address</span>\n        </div>\n      )}\n      {mode === 'delivery' && (\n        <div style={{ marginBottom: '10px', textAlign: 'center' }}>\n          <span style={{ color: '#333', fontWeight: 'bold' }}>üìç Set Delivery Location</span>\n        </div>\n      )}\n      \n      <div \n        ref={mapRef}\n        style={{ \n          width: '100%', \n          height: '250px', \n          borderRadius: '15px',\n          border: '2px solid #e0e0e0'\n        }}\n      />\n      \n      <p style={{ fontSize: '12px', color: '#666', margin: '5px 0' }}>\n        Click anywhere on the map to set {mode} location\n      </p>\n    </div>\n  );\n};\n\nexport default LocationSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}