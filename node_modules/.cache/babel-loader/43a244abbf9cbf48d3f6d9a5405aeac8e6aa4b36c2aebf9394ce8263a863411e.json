{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO LEGION 7\\\\delivery-connect\\\\frontend\\\\src\\\\components\\\\LiveTrackingMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nconst LiveTrackingMap = ({\n  request,\n  user\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [driverLocation, setDriverLocation] = useState(null);\n  const [markers, setMarkers] = useState({});\n  const [eta, setEta] = useState(null);\n  const [routeLine, setRouteLine] = useState(null);\n  useEffect(() => {\n    if (request) {\n      initMap();\n      startLocationTracking();\n    }\n    return () => stopLocationTracking();\n  }, [request]);\n  useEffect(() => {\n    if (map && request) {\n      updateMapMarkers();\n    }\n  }, [map, request, driverLocation]);\n  const initMap = () => {\n    var _user$homeAddress, _user$homeAddress2;\n    if (!mapRef.current || !window.L || map) return;\n\n    // Use user's home address if available, otherwise delivery location\n    const userLat = ((_user$homeAddress = user.homeAddress) === null || _user$homeAddress === void 0 ? void 0 : _user$homeAddress.latitude) || request.deliveryLocation.latitude;\n    const userLng = ((_user$homeAddress2 = user.homeAddress) === null || _user$homeAddress2 === void 0 ? void 0 : _user$homeAddress2.longitude) || request.deliveryLocation.longitude;\n    const leafletMap = window.L.map(mapRef.current, {\n      zoomControl: false,\n      attributionControl: false\n    }).setView([userLat, userLng], 14);\n    window.L.tileLayer('https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}', {\n      attribution: '',\n      maxZoom: 20\n    }).addTo(leafletMap);\n    if (!document.getElementById('tracking-map-style')) {\n      const style = document.createElement('style');\n      style.id = 'tracking-map-style';\n      style.textContent = `\n        .leaflet-container {\n          background: #f8f9fa !important;\n        }\n        .leaflet-control-attribution {\n          display: none !important;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n    setMap(leafletMap);\n  };\n  const startLocationTracking = () => {\n    if (!(request !== null && request !== void 0 && request.driverId)) return;\n    const interval = setInterval(async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`${API_URL}/users/${request.driverId._id}/location`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (response.data.location) {\n          setDriverLocation(response.data.location);\n          calculateETA(response.data.location);\n        }\n      } catch (error) {\n        console.error('Error fetching driver location:', error);\n      }\n    }, 3000);\n    return () => clearInterval(interval);\n  };\n  const stopLocationTracking = () => {};\n  const calculateETA = driverLoc => {\n    var _user$homeAddress3, _user$homeAddress4;\n    if (!driverLoc || !request) return;\n    const userLat = ((_user$homeAddress3 = user.homeAddress) === null || _user$homeAddress3 === void 0 ? void 0 : _user$homeAddress3.latitude) || request.deliveryLocation.latitude;\n    const userLng = ((_user$homeAddress4 = user.homeAddress) === null || _user$homeAddress4 === void 0 ? void 0 : _user$homeAddress4.longitude) || request.deliveryLocation.longitude;\n    const distance = getDistance(driverLoc.latitude, driverLoc.longitude, userLat, userLng);\n    const roadDistance = distance * 1.5; // Account for roads not being straight\n    const estimatedMinutes = Math.max(1, Math.round(roadDistance / 20 * 60) + 2);\n    setEta(estimatedMinutes);\n    drawRealisticRoute(driverLoc, {\n      latitude: userLat,\n      longitude: userLng\n    });\n  };\n  const drawRealisticRoute = (start, end) => {\n    if (!map) return;\n    if (routeLine) {\n      map.removeLayer(routeLine);\n    }\n    const startLat = start.latitude;\n    const startLng = start.longitude;\n    const endLat = end.latitude;\n    const endLng = end.longitude;\n\n    // Create realistic route with multiple waypoints\n    const routePoints = [];\n    routePoints.push([startLat, startLng]);\n\n    // Add waypoints that simulate following major roads\n    const steps = 8;\n    for (let i = 1; i < steps; i++) {\n      const progress = i / steps;\n\n      // Base interpolation\n      let lat = startLat + (endLat - startLat) * progress;\n      let lng = startLng + (endLng - startLng) * progress;\n\n      // Add road-like variations\n      const variation = 0.001;\n      if (i % 2 === 0) {\n        // Simulate following main roads (slight horizontal bias)\n        lng += (Math.random() - 0.5) * variation * 2;\n        lat += (Math.random() - 0.5) * variation * 0.5;\n      } else {\n        // Simulate turns and intersections\n        lat += (Math.random() - 0.5) * variation * 2;\n        lng += (Math.random() - 0.5) * variation * 0.5;\n      }\n      routePoints.push([lat, lng]);\n    }\n    routePoints.push([endLat, endLng]);\n    const newRouteLine = window.L.polyline(routePoints, {\n      color: '#667eea',\n      weight: 4,\n      opacity: 0.8,\n      smoothFactor: 2\n    }).addTo(map);\n    setRouteLine(newRouteLine);\n  };\n  const getDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  };\n  const updateMapMarkers = () => {\n    var _user$homeAddress5, _user$homeAddress6;\n    if (!map || !request) return;\n    Object.values(markers).forEach(marker => map.removeLayer(marker));\n    const newMarkers = {};\n\n    // User location marker (user's actual location)\n    const userLat = ((_user$homeAddress5 = user.homeAddress) === null || _user$homeAddress5 === void 0 ? void 0 : _user$homeAddress5.latitude) || request.deliveryLocation.latitude;\n    const userLng = ((_user$homeAddress6 = user.homeAddress) === null || _user$homeAddress6 === void 0 ? void 0 : _user$homeAddress6.longitude) || request.deliveryLocation.longitude;\n    newMarkers.user = window.L.marker([userLat, userLng], {\n      icon: window.L.divIcon({\n        html: `<div style=\"\n            width: 36px; height: 36px;\n            background: #4CAF50; border-radius: 50%;\n            border: 3px solid white;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n            display: flex; align-items: center; justify-content: center;\n            font-size: 18px;\n          \">üìç</div>`,\n        className: 'user-marker',\n        iconSize: [36, 36],\n        iconAnchor: [18, 18]\n      })\n    }).addTo(map);\n\n    // Driver location marker (if available)\n    if (driverLocation) {\n      newMarkers.driver = window.L.marker([driverLocation.latitude, driverLocation.longitude], {\n        icon: window.L.divIcon({\n          html: `<div style=\"\n              width: 32px; height: 32px;\n              background: #00D084; border-radius: 50%;\n              border: 3px solid white;\n              box-shadow: 0 4px 12px rgba(0, 208, 132, 0.4);\n              display: flex; align-items: center; justify-content: center;\n              font-size: 16px;\n              animation: pulse 2s infinite;\n            \">üõµ</div>\n            <style>\n              @keyframes pulse {\n                0% { transform: scale(1); }\n                50% { transform: scale(1.1); }\n                100% { transform: scale(1); }\n              }\n            </style>`,\n          className: 'driver-marker',\n          iconSize: [32, 32],\n          iconAnchor: [16, 16]\n        })\n      }).addTo(map);\n    }\n    setMarkers(newMarkers);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: 'white',\n      borderRadius: '20px',\n      overflow: 'hidden',\n      boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '18px',\n              fontWeight: 'bold'\n            },\n            children: \"Live Tracking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '14px',\n              opacity: 0.9\n            },\n            children: [request.status === 'accepted' && 'Driver heading to store', request.status === 'shopping' && 'Driver shopping for items', request.status === 'delivering' && 'Driver coming to you', request.status === 'completed' && 'Delivery completed']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), eta && request.status !== 'completed' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(255,255,255,0.2)',\n            padding: '8px 15px',\n            borderRadius: '20px',\n            fontSize: '14px',\n            fontWeight: 'bold'\n          },\n          children: [\"ETA: \", eta, \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: mapRef,\n        style: {\n          width: '100%',\n          height: '400px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          bottom: '15px',\n          left: '15px',\n          background: 'rgba(255,255,255,0.95)',\n          borderRadius: '15px',\n          padding: '8px 12px',\n          fontSize: '12px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        },\n        children: \"\\uD83D\\uDCCD You \\u2022 \\uD83D\\uDEF5 Driver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), !driverLocation && request.status !== 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'rgba(255,255,255,0.95)',\n          padding: '20px',\n          borderRadius: '15px',\n          textAlign: 'center',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            marginBottom: '10px'\n          },\n          children: \"\\uD83D\\uDCE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: '#666'\n          },\n          children: \"Connecting to driver...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveTrackingMap, \"x4iSllEGtpXzhe4wFCjJ17Geys8=\");\n_c = LiveTrackingMap;\nexport default LiveTrackingMap;\nvar _c;\n$RefreshReg$(_c, \"LiveTrackingMap\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","API_URL","LiveTrackingMap","request","user","_s","mapRef","map","setMap","driverLocation","setDriverLocation","markers","setMarkers","eta","setEta","routeLine","setRouteLine","initMap","startLocationTracking","stopLocationTracking","updateMapMarkers","_user$homeAddress","_user$homeAddress2","current","window","L","userLat","homeAddress","latitude","deliveryLocation","userLng","longitude","leafletMap","zoomControl","attributionControl","setView","tileLayer","attribution","maxZoom","addTo","document","getElementById","style","createElement","id","textContent","head","appendChild","driverId","interval","setInterval","token","localStorage","getItem","response","get","_id","headers","Authorization","data","location","calculateETA","error","console","clearInterval","driverLoc","_user$homeAddress3","_user$homeAddress4","distance","getDistance","roadDistance","estimatedMinutes","Math","max","round","drawRealisticRoute","start","end","removeLayer","startLat","startLng","endLat","endLng","routePoints","push","steps","i","progress","lat","lng","variation","random","newRouteLine","polyline","color","weight","opacity","smoothFactor","lat1","lon1","lat2","lon2","R","dLat","PI","dLon","a","sin","cos","atan2","sqrt","_user$homeAddress5","_user$homeAddress6","Object","values","forEach","marker","newMarkers","icon","divIcon","html","className","iconSize","iconAnchor","driver","background","borderRadius","overflow","boxShadow","children","padding","display","alignItems","justifyContent","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","status","position","ref","width","height","bottom","left","top","transform","textAlign","marginBottom","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO LEGION 7/delivery-connect/frontend/src/components/LiveTrackingMap.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api';\n\nconst LiveTrackingMap = ({ request, user }) => {\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [driverLocation, setDriverLocation] = useState(null);\n  const [markers, setMarkers] = useState({});\n  const [eta, setEta] = useState(null);\n  const [routeLine, setRouteLine] = useState(null);\n\n  useEffect(() => {\n    if (request) {\n      initMap();\n      startLocationTracking();\n    }\n    return () => stopLocationTracking();\n  }, [request]);\n\n  useEffect(() => {\n    if (map && request) {\n      updateMapMarkers();\n    }\n  }, [map, request, driverLocation]);\n\n  const initMap = () => {\n    if (!mapRef.current || !window.L || map) return;\n    \n    // Use user's home address if available, otherwise delivery location\n    const userLat = user.homeAddress?.latitude || request.deliveryLocation.latitude;\n    const userLng = user.homeAddress?.longitude || request.deliveryLocation.longitude;\n    \n    const leafletMap = window.L.map(mapRef.current, {\n      zoomControl: false,\n      attributionControl: false\n    }).setView([userLat, userLng], 14);\n    \n    window.L.tileLayer('https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}', {\n      attribution: '',\n      maxZoom: 20\n    }).addTo(leafletMap);\n    \n    if (!document.getElementById('tracking-map-style')) {\n      const style = document.createElement('style');\n      style.id = 'tracking-map-style';\n      style.textContent = `\n        .leaflet-container {\n          background: #f8f9fa !important;\n        }\n        .leaflet-control-attribution {\n          display: none !important;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n    \n    setMap(leafletMap);\n  };\n\n  const startLocationTracking = () => {\n    if (!request?.driverId) return;\n    \n    const interval = setInterval(async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`${API_URL}/users/${request.driverId._id}/location`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        if (response.data.location) {\n          setDriverLocation(response.data.location);\n          calculateETA(response.data.location);\n        }\n      } catch (error) {\n        console.error('Error fetching driver location:', error);\n      }\n    }, 3000);\n    \n    return () => clearInterval(interval);\n  };\n\n  const stopLocationTracking = () => {};\n\n  const calculateETA = (driverLoc) => {\n    if (!driverLoc || !request) return;\n    \n    const userLat = user.homeAddress?.latitude || request.deliveryLocation.latitude;\n    const userLng = user.homeAddress?.longitude || request.deliveryLocation.longitude;\n    \n    const distance = getDistance(driverLoc.latitude, driverLoc.longitude, userLat, userLng);\n    const roadDistance = distance * 1.5; // Account for roads not being straight\n    const estimatedMinutes = Math.max(1, Math.round((roadDistance / 20) * 60) + 2);\n    setEta(estimatedMinutes);\n    \n    drawRealisticRoute(driverLoc, { latitude: userLat, longitude: userLng });\n  };\n  \n  const drawRealisticRoute = (start, end) => {\n    if (!map) return;\n    \n    if (routeLine) {\n      map.removeLayer(routeLine);\n    }\n    \n    const startLat = start.latitude;\n    const startLng = start.longitude;\n    const endLat = end.latitude;\n    const endLng = end.longitude;\n    \n    // Create realistic route with multiple waypoints\n    const routePoints = [];\n    routePoints.push([startLat, startLng]);\n    \n    // Add waypoints that simulate following major roads\n    const steps = 8;\n    for (let i = 1; i < steps; i++) {\n      const progress = i / steps;\n      \n      // Base interpolation\n      let lat = startLat + (endLat - startLat) * progress;\n      let lng = startLng + (endLng - startLng) * progress;\n      \n      // Add road-like variations\n      const variation = 0.001;\n      if (i % 2 === 0) {\n        // Simulate following main roads (slight horizontal bias)\n        lng += (Math.random() - 0.5) * variation * 2;\n        lat += (Math.random() - 0.5) * variation * 0.5;\n      } else {\n        // Simulate turns and intersections\n        lat += (Math.random() - 0.5) * variation * 2;\n        lng += (Math.random() - 0.5) * variation * 0.5;\n      }\n      \n      routePoints.push([lat, lng]);\n    }\n    \n    routePoints.push([endLat, endLng]);\n    \n    const newRouteLine = window.L.polyline(routePoints, {\n      color: '#667eea',\n      weight: 4,\n      opacity: 0.8,\n      smoothFactor: 2\n    }).addTo(map);\n    \n    setRouteLine(newRouteLine);\n  };\n\n  const getDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n              Math.sin(dLon/2) * Math.sin(dLon/2);\n    return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  };\n\n  const updateMapMarkers = () => {\n    if (!map || !request) return;\n    \n    Object.values(markers).forEach(marker => map.removeLayer(marker));\n    \n    const newMarkers = {};\n    \n    // User location marker (user's actual location)\n    const userLat = user.homeAddress?.latitude || request.deliveryLocation.latitude;\n    const userLng = user.homeAddress?.longitude || request.deliveryLocation.longitude;\n    \n    newMarkers.user = window.L.marker(\n      [userLat, userLng],\n      {\n        icon: window.L.divIcon({\n          html: `<div style=\"\n            width: 36px; height: 36px;\n            background: #4CAF50; border-radius: 50%;\n            border: 3px solid white;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n            display: flex; align-items: center; justify-content: center;\n            font-size: 18px;\n          \">üìç</div>`,\n          className: 'user-marker',\n          iconSize: [36, 36],\n          iconAnchor: [18, 18]\n        })\n      }\n    ).addTo(map);\n    \n    // Driver location marker (if available)\n    if (driverLocation) {\n      newMarkers.driver = window.L.marker(\n        [driverLocation.latitude, driverLocation.longitude],\n        {\n          icon: window.L.divIcon({\n            html: `<div style=\"\n              width: 32px; height: 32px;\n              background: #00D084; border-radius: 50%;\n              border: 3px solid white;\n              box-shadow: 0 4px 12px rgba(0, 208, 132, 0.4);\n              display: flex; align-items: center; justify-content: center;\n              font-size: 16px;\n              animation: pulse 2s infinite;\n            \">üõµ</div>\n            <style>\n              @keyframes pulse {\n                0% { transform: scale(1); }\n                50% { transform: scale(1.1); }\n                100% { transform: scale(1); }\n              }\n            </style>`,\n            className: 'driver-marker',\n            iconSize: [32, 32],\n            iconAnchor: [16, 16]\n          })\n        }\n      ).addTo(map);\n    }\n    \n    setMarkers(newMarkers);\n  };\n\n  return (\n    <div style={{\n      background: 'white',\n      borderRadius: '20px',\n      overflow: 'hidden',\n      boxShadow: '0 8px 32px rgba(0,0,0,0.1)'\n    }}>\n      <div style={{\n        padding: '20px',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <div>\n            <div style={{ fontSize: '18px', fontWeight: 'bold' }}>Live Tracking</div>\n            <div style={{ fontSize: '14px', opacity: 0.9 }}>\n              {request.status === 'accepted' && 'Driver heading to store'}\n              {request.status === 'shopping' && 'Driver shopping for items'}\n              {request.status === 'delivering' && 'Driver coming to you'}\n              {request.status === 'completed' && 'Delivery completed'}\n            </div>\n          </div>\n          \n          {eta && request.status !== 'completed' && (\n            <div style={{\n              background: 'rgba(255,255,255,0.2)',\n              padding: '8px 15px',\n              borderRadius: '20px',\n              fontSize: '14px',\n              fontWeight: 'bold'\n            }}>\n              ETA: {eta} min\n            </div>\n          )}\n        </div>\n      </div>\n      \n      <div style={{ position: 'relative' }}>\n        <div \n          ref={mapRef}\n          style={{ \n            width: '100%', \n            height: '400px'\n          }}\n        />\n        \n        <div style={{\n          position: 'absolute',\n          bottom: '15px',\n          left: '15px',\n          background: 'rgba(255,255,255,0.95)',\n          borderRadius: '15px',\n          padding: '8px 12px',\n          fontSize: '12px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        }}>\n          üìç You ‚Ä¢ üõµ Driver\n        </div>\n        \n        {!driverLocation && request.status !== 'pending' && (\n          <div style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            background: 'rgba(255,255,255,0.95)',\n            padding: '20px',\n            borderRadius: '15px',\n            textAlign: 'center',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\n          }}>\n            <div style={{ fontSize: '24px', marginBottom: '10px' }}>üì°</div>\n            <div style={{ fontSize: '14px', color: '#666' }}>Connecting to driver...</div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LiveTrackingMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}